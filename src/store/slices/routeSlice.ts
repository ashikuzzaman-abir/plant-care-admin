import { createSlice, PayloadAction } from '@reduxjs/toolkit';

// Define the type for the page properties
type PageProps = {
	title: string | undefined; // The title of the page
	selected: string; // The selected page
};

// Define the type for the navigation properties
type NavigateProps = {
	selected: string; // The selected page
	title?: string; // The title of the page (optional)
};

// Define the initial state of the page
const initialState: PageProps = {
	title: 'dashboard', // Default title is 'dashboard'
	selected: 'dashboard', // Default selected page is 'dashboard'
};

// Create a Redux slice for route navigation
export const routeSlice = createSlice({
	name: 'route', // Name of the slice
	initialState, // Initial state
	reducers: {
		// Define a reducer for navigation
		navigate: (state, action: PayloadAction<NavigateProps>) => {
			// Extract selected and title from the action payload, with default values
			const { selected = 'dashboard', title = 'dashboard' } = action.payload;
			// Update the state with the new selected page and title
			state.selected = selected;
			state.title = title || state.title;
		},
	},
});

// Export the actions generated by createSlice
export const { navigate } = routeSlice.actions;

// Export the reducer
export default routeSlice.reducer;
